extends Control

@onready var slot_1 = $VBoxContainer/HBoxContainer/Slot1
@onready var slot_2 = $VBoxContainer/HBoxContainer/Slot2
@onready var slot_3 = $VBoxContainer/HBoxContainer/Slot3
@onready var slot_4 = $VBoxContainer/HBoxContainer/Slot4
@onready var slot_5 = $VBoxContainer/HBoxContainer/Slot5
@onready var slot_6 = $VBoxContainer/HBoxContainer/Slot6
@onready var slot_7 = $VBoxContainer/HBoxContainer/Slot7
@onready var slot_8 = $VBoxContainer/HBoxContainer/Slot8
@onready var slot_9 = $VBoxContainer/HBoxContainer/Slot9
@onready var slot_10 = $VBoxContainer/HBoxContainer/Slot10
@onready var slot_11 = $VBoxContainer/HBoxContainer/Slot11
@onready var slot_12 = $VBoxContainer/HBoxContainer/Slot12
@onready var slot2_1 = $VBoxContainer/HBoxContainer2/Slot1
@onready var slot2_2 = $VBoxContainer/HBoxContainer2/Slot2
@onready var slot2_3 = $VBoxContainer/HBoxContainer2/Slot3
@onready var slot2_4 = $VBoxContainer/HBoxContainer2/Slot4
@onready var slot2_5 = $VBoxContainer/HBoxContainer2/Slot5
@onready var slot2_6 = $VBoxContainer/HBoxContainer2/Slot6
@onready var slot2_7 = $VBoxContainer/HBoxContainer2/Slot7
@onready var slot2_8 = $VBoxContainer/HBoxContainer2/Slot8
@onready var slot2_9 = $VBoxContainer/HBoxContainer2/Slot9
@onready var slot2_10 = $VBoxContainer/HBoxContainer2/Slot10
@onready var slot2_11 = $VBoxContainer/HBoxContainer2/Slot11
@onready var slot2_12 = $VBoxContainer/HBoxContainer2/Slot12
@onready var slot3_1 = $VBoxContainer/HBoxContainer3/Slot1
@onready var slot3_2 = $VBoxContainer/HBoxContainer3/Slot2
@onready var slot3_3 = $VBoxContainer/HBoxContainer3/Slot3
@onready var slot3_4 = $VBoxContainer/HBoxContainer3/Slot4
@onready var slot3_5 = $VBoxContainer/HBoxContainer3/Slot5
@onready var slot3_6 = $VBoxContainer/HBoxContainer3/Slot6
@onready var slot3_7 = $VBoxContainer/HBoxContainer3/Slot7
@onready var slot3_8 = $VBoxContainer/HBoxContainer3/Slot8
@onready var slot3_9 = $VBoxContainer/HBoxContainer3/Slot9
@onready var slot3_10 = $VBoxContainer/HBoxContainer3/Slot10
@onready var slot3_11 = $VBoxContainer/HBoxContainer3/Slot11
@onready var slot3_12 = $VBoxContainer/HBoxContainer3/Slot12
@onready var slot4_1 = $VBoxContainer/HBoxContainer4/Slot1
@onready var slot4_2 = $VBoxContainer/HBoxContainer4/Slot2
@onready var slot4_3 = $VBoxContainer/HBoxContainer4/Slot3
@onready var slot4_4 = $VBoxContainer/HBoxContainer4/Slot4
@onready var slot4_5 = $VBoxContainer/HBoxContainer4/Slot5
@onready var slot4_6 = $VBoxContainer/HBoxContainer4/Slot6
@onready var slot4_7 = $VBoxContainer/HBoxContainer4/Slot7
@onready var slot4_8 = $VBoxContainer/HBoxContainer4/Slot8
@onready var slot4_9 = $VBoxContainer/HBoxContainer4/Slot9
@onready var slot4_10 = $VBoxContainer/HBoxContainer4/Slot10
@onready var slot4_11 = $VBoxContainer/HBoxContainer4/Slot11
@onready var slot4_12 = $VBoxContainer/HBoxContainer4/Slot12
@onready var slot5_1 = $VBoxContainer/HBoxContainer5/Slot1
@onready var slot5_2 = $VBoxContainer/HBoxContainer5/Slot2
@onready var slot5_3 = $VBoxContainer/HBoxContainer5/Slot3
@onready var slot5_4 = $VBoxContainer/HBoxContainer5/Slot4
@onready var slot5_5 = $VBoxContainer/HBoxContainer5/Slot5
@onready var slot5_6 = $VBoxContainer/HBoxContainer5/Slot6
@onready var slot5_7 = $VBoxContainer/HBoxContainer5/Slot7
@onready var slot5_8 = $VBoxContainer/HBoxContainer5/Slot8
@onready var slot5_9 = $VBoxContainer/HBoxContainer5/Slot9
@onready var slot5_10 = $VBoxContainer/HBoxContainer5/Slot10
@onready var slot5_11 = $VBoxContainer/HBoxContainer5/Slot11
@onready var slot5_12 = $VBoxContainer/HBoxContainer5/Slot12
@onready var slot6_1 = $VBoxContainer/HBoxContainer6/Slot1
@onready var slot6_2 = $VBoxContainer/HBoxContainer6/Slot2
@onready var slot6_3 = $VBoxContainer/HBoxContainer6/Slot3
@onready var slot6_4 = $VBoxContainer/HBoxContainer6/Slot4
@onready var slot6_5 = $VBoxContainer/HBoxContainer6/Slot5
@onready var slot6_6 = $VBoxContainer/HBoxContainer6/Slot6
@onready var slot6_7 = $VBoxContainer/HBoxContainer6/Slot7
@onready var slot6_8 = $VBoxContainer/HBoxContainer6/Slot8
@onready var slot6_9 = $VBoxContainer/HBoxContainer6/Slot9
@onready var slot6_10 = $VBoxContainer/HBoxContainer6/Slot10
@onready var slot6_11 = $VBoxContainer/HBoxContainer6/Slot11
@onready var slot6_12 = $VBoxContainer/HBoxContainer6/Slot12
@onready var slot7_1 = $VBoxContainer/HBoxContainer7/Slot1
@onready var slot7_2 = $VBoxContainer/HBoxContainer7/Slot2
@onready var slot7_3 = $VBoxContainer/HBoxContainer7/Slot3
@onready var slot7_4 = $VBoxContainer/HBoxContainer7/Slot4
@onready var slot7_5 = $VBoxContainer/HBoxContainer7/Slot5
@onready var slot7_6 = $VBoxContainer/HBoxContainer7/Slot6
@onready var slot7_7 = $VBoxContainer/HBoxContainer7/Slot7
@onready var slot7_8 = $VBoxContainer/HBoxContainer7/Slot8
@onready var slot7_9 = $VBoxContainer/HBoxContainer7/Slot9
@onready var slot7_10 = $VBoxContainer/HBoxContainer7/Slot10
@onready var slot7_11 = $VBoxContainer/HBoxContainer7/Slot11
@onready var slot7_12 = $VBoxContainer/HBoxContainer7/Slot12
@onready var slot8_1 = $VBoxContainer/HBoxContainer8/Slot1
@onready var slot8_2 = $VBoxContainer/HBoxContainer8/Slot2
@onready var slot8_3 = $VBoxContainer/HBoxContainer8/Slot3
@onready var slot8_4 = $VBoxContainer/HBoxContainer8/Slot4
@onready var slot8_5 = $VBoxContainer/HBoxContainer8/Slot5
@onready var slot8_6 = $VBoxContainer/HBoxContainer8/Slot6
@onready var slot8_7 = $VBoxContainer/HBoxContainer8/Slot7
@onready var slot8_8 = $VBoxContainer/HBoxContainer8/Slot8
@onready var slot8_9 = $VBoxContainer/HBoxContainer8/Slot9
@onready var slot8_10 = $VBoxContainer/HBoxContainer8/Slot10
@onready var slot8_11 = $VBoxContainer/HBoxContainer8/Slot11
@onready var slot8_12 = $VBoxContainer/HBoxContainer8/Slot12

# Called when the node enters the scene tree for the first time.

@export var character_button: PackedScene

func _ready():
	
	var slot_array = [
slot_1,slot_2,slot_3,slot_4,slot_5,slot_6,slot_7,slot_8,slot_9,slot_10,slot_11,slot_12,
slot2_1,slot2_2,slot2_3,slot2_4,slot2_5,slot2_6,slot2_7,slot2_8,slot2_9,slot2_10,slot2_11,slot2_12,
slot3_1,slot3_2,slot3_3,slot3_4,slot3_5,slot3_6,slot3_7,slot3_8,slot3_9,slot3_10,slot3_11,slot3_12,
slot4_1,slot4_2,slot4_3,slot4_4,slot4_5,slot4_6,slot4_7,slot4_8,slot4_9,slot4_10,slot4_11,slot4_12,
slot5_1,slot5_2,slot5_3,slot5_4,slot5_5,slot5_6,slot5_7,slot5_8,slot5_9,slot5_10,slot5_11,slot5_12,
slot6_1,slot6_2,slot6_3,slot6_4,slot6_5,slot6_6,slot6_7,slot6_8,slot6_9,slot6_10,slot6_11,slot6_12,
slot7_1,slot7_2,slot7_3,slot7_4,slot7_5,slot7_6,slot7_7,slot7_8,slot7_9,slot7_10,slot7_11,slot7_12,
slot8_1,slot8_2,slot8_3,slot8_4,slot8_5,slot8_6,slot8_7,slot8_8,slot8_9,slot8_10,slot8_11,slot8_12]

	var dir_path = "user://characters"
	var dir = DirAccess.open(dir_path)
	
	dir.list_dir_begin()
	var file_name = dir.get_next()
	var index = 0
	while file_name.ends_with(".tres"):
		var another = character_button.instantiate()
		another.saved_character = load(dir_path + "//" + file_name)
		slot_array[index].add_child(another)
		
		file_name = dir.get_next()
		index += 1

	


func _on_quit_button_pressed():
	queue_free()
